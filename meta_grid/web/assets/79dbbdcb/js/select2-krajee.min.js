/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2015
 * @version 2.0.7
 *
 * Additional enhancements for Select2 widget extension for Yii 2.0.
 *
 * Author: Kartik Visweswaran
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */var initS2ToggleAll=function(){},initS2Loading=function(){},initS2Open=function(){},initS2Unselect=function(){};!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";initS2ToggleAll=function(t){var n=e("#"+t),l="#s2-togall-"+t,s=e(l);n.attr("multiple")&&(n.on("select2:open",function(){s.parent().attr("id")!=="parent-"+l&&n.attr("multiple")&&(e("#select2-"+t+"-results").closest(".select2-dropdown").prepend(s),e("#parent-"+l).remove())}).on("change",function(){if(n.attr("multiple")){var t=0,l=n.val()?n.val().length:0;s.removeClass("s2-togall-select s2-togall-unselect"),n.find("option:enabled").each(function(){e(this).val().length&&t++}),s.addClass(0===t||l!==t?"s2-togall-select":"s2-togall-unselect")}}),s.on("click",function(){var t=s.hasClass("s2-togall-select"),l=!0,i="selectall";t||(l=!1,i="unselectall"),n.find("option").each(function(){var t=e(this);!t.attr("disabled")&&t.val().length&&t.prop("selected",l)}),n.select2("close").trigger("krajeeselect2:"+i).trigger("change")}))},initS2Open=function(){var t,n,l=e(this),s=e(".select2-container--open"),i=l.parents("[class*='has-']");if(i.length)for(t=i[0].className.split(/\s+/),n=0;n<t.length;n++)t[n].match("has-")&&s.removeClass("has-success has-error has-warning").addClass(t[n]);l.data("unselecting")&&(l.removeData("unselecting"),l.select2("close").trigger("krajeeselect2:cleared"))},initS2Unselect=function(){e(this).data("unselecting",!0)},initS2Loading=function(t,n){var l=window[n]||{},s=l.themeCss,i=l.sizeCss,o=l.doOrder,a=l.doReset,c=l.doToggle,r=e("#"+t),g=e(s),u=e(".kv-plugin-loading.loading-"+t),d=e(".group-"+t);g.length||r.show(),d.length&&d.removeClass("kv-input-group-hide").removeClass(".group-"+t),u.length&&u.remove(),i&&r.next(s).removeClass(i).addClass(i),a&&r.closest("form").on("reset",function(){setTimeout(function(){r.trigger("change").trigger("krajeeselect2:reset")},100)}),c&&initS2ToggleAll(t),o&&r.on("select2:select",function(t){var n=e(t.params.data.element);n.detach(),r.append(n).trigger("select2:selection"),r.find("option:not(:selected)").each(function(){r.append(e(this))}),r.trigger("select2:selection")}),r.on("select2:open",initS2Open).on("select2:unselecting",initS2Unselect)}});